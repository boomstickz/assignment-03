<%- include("./partials/header.ejs") %>

<div class="dashboard-section">

<h2 style="color:white;">Edit Dashboard</h2>

<form action="/dashboards/edit/<%= dash._id %>" method="POST" enctype="multipart/form-data">

  <!-- Title -->
  <label class="form-label dashboard-text-light">Title</label>
  <input type="text" name="title" value="<%= dash.title %>" class="form-control">

  <!-- Description -->
  <label class="form-label dashboard-text-light">Description</label>
  <textarea name="description" class="form-control" rows="5"><%= dash.description %></textarea>

  <!-- Current Images -->
  <h4 class="dashboard-text-light">Current Images</h4>
  <div class="row mb-3">

    <% dash.images.forEach(img => { %>
      <div class="col-md-3 text-center mb-3">

        <img src="/uploads/<%= img %>" class="edit-image-preview mb-2">

        <button 
          formaction="/dashboards/<%= dash._id %>/remove-image"
          formmethod="POST"
          name="imageName"
          value="<%= img %>"
          class="btn btn-sm btn-danger">
          Remove
        </button>

      </div>
    <% }) %>

  </div>

  <!-- Upload new images -->
  <label class="form-label dashboard-text-light">Upload New Images:</label>
  <input type="file" name="images" multiple class="form-control mb-3">

  <!-- Tags -->
  <label class="form-label dashboard-text-light">Tags:</label>
  <input type="text" name="tags" value="<%= dash.tags.join(', ') %>" class="form-control mb-3">

  <!-- Abilities -->
  <label class="form-label dashboard-text-light">Abilities:</label>
  <input type="text" name="abilities" value="<%= dash.abilities.join(', ') %>" class="form-control mb-3">

  <!-- Colors -->
  <label class="form-label dashboard-text-light">Colors:</label>
  <input type="text" name="colors"
         value="<%= dash.colors.join(', ') %>"
         class="form-control mb-3">

  <button class="btn btn-primary">Save Changes</button>

</form>

</div>

<%- include("./partials/footer.ejs") %>
